<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE commands SYSTEM "/usr/share/paludis-hooks/filesystem-manager/filesystem-manager.dtd">
<?xml-stylesheet type="text/xsl" href="/usr/share/paludis-hooks/filesystem-manager/filesystem-manager.xsl"?>

<commands
    version="1.5"
    xmlns:smh="https://github.com/zaufi/paludis-hooks/#filesystem-management-hook"
    xmlns="https://github.com/zaufi/paludis-hooks/#filesystem-management-hook"
  >

    <!--
       MAKE 'PERMANENT' (VERSION INDEPENDED) LINKS TO VARIOUS DOCS
      -->

    <package spec="dev-libs/boost">
        <symlink cd="/usr/share/doc" src="${PF}/html" dst="${PN}" />
    </package>

    <package spec="dev-util/cmake">
        <symlink cd="/usr/share/doc" src="${PF}" dst="${PN}" />
        <rm cd="/usr/share/doc/${PF}/compress/" dst="Copyright.txt" />
        <rm cd="/usr/share/doc/${PF}/cmsys/" dst="Copyright.txt" />
    </package>

    <package spec="app-doc/doxygen">
        <symlink cd="/usr/share/doc" src="${PF}" dst="${PN}" />
    </package>

    <package spec="dev-libs/xerces-c">
        <symlink cd="/usr/share/doc" src="${PF}" dst="${PN}" />
    </package>

    <package spec="dev-libs/xapian">
        <symlink cd="/usr/share/doc" src="${PF}" dst="${PN}" />
    </package>

    <package spec="dev-lang/swig">
        <symlink cd="/usr/share/doc" src="${PF}" dst="${PN}" />
    </package>

    <package spec="libvmime">
        <symlink cd="/usr/share/doc" src="${PF}" dst="${PN}" />
    </package>

    <package spec="kde-base/kdelibs">
        <symlink cd="/usr/share/doc" src="${PF}/HTML/en/kdelibs-apidox" dst="${PN}" />
    </package>

    <package spec="dev-python/python-docs">
        <symlink cd="/usr/share/doc" src="${PF}/html" dst="python-${SLOT}" />
    </package>

    <package spec="sys-devel/llvm">
        <symlink cd="/usr/share/doc" src="${PF}/html" dst="${PN}" />
    </package>

    <package spec="app-doc/clang-docs">
        <symlink cd="/usr/share/doc" src="${PF}/html" dst="${PN}" />
    </package>

    <package spec="kde-base/pykde4">
        <symlink cd="/usr/share/doc" src="${PF}/html" dst="${PN}" />
    </package>

    <!--
       REMOVE VARIOUS SHIT FROM PACKAGES
      -->

    <package spec="paludis-hooks">
        <rm cd="/usr/share/doc/${PN}" dst="README.md" />
    </package>
    <package spec="smart-prompt">
        <rm cd="/usr/share/doc/${PN}" dst="*" />
    </package>

    <!-- Remove translations -->
    <package spec="app-crypt/gnupg">
        <rm cd="/usr/share/doc/${PN}" dst="help.*.txt" />
    </package>

    <!-- Dunno why dev-libs/lzo installs shit into /usr/share/doc/${PF} and ${PN} also -->
    <package spec="dev-libs/lzo">
        <rm cd="/usr/share/doc" dst="${PN}" />
    </package>

    <!-- Remove shit from qstardict docs -->
    <package spec="app-text/qstardict">
        <rm cd="/usr/share/doc/${PN}" dst="*" />
    </package>

    <package spec="x11-misc/util-macros">
        <rm cd="/usr/share/${PN}" dst="INSTALL" />
    </package>

    <package spec="dev-python/jinja">
        <rm cd="/usr/share/vim/vimfiles/syntax" dst="jinja.vim" />
    </package>

    <package spec="app-emulation/wine">
        <rm cd="/usr/share/man">
            <item dst="fr" />
            <item dst="fr.UTF-8" />
            <item dst="de.UTF-8" />
        </rm>
    </package>

    <!-- Don't want any 'default' wallpapers from kde-wallpapers,
         but unfortunately (fraking WHY?) few packages depend on it!
      -->
    <package spec="kde-base/kde-wallpapers">
        <rm cd="/usr/share/wallpapers/" dst="*" />
    </package>
    <!-- Don't want any 'default' Qt styles: they are damn UGLY! -->
    <package spec="kde-base/kstyles">
        <rm cd="/usr/bin/" dst="oxygen-demo" />
        <rm cd="/usr/share/apps/kstyle/themes/" dst="qt*.themerc" />
    </package>
    <!-- Rip off stupid demo -->
    <package spec="kde-base/kwin">
        <rm cd="/usr/bin/" dst="oxygen-shadow-demo" />
    </package>

    <!-- Don't want any languages other than English -->
    <package spec="dev-qt/qtcore:4">
        <rm cd="/usr/share/qt4" dst="translations" />
    </package>

    <!-- Don't want user docs from any KDE app I use -->
    <package spec="kde-base/*" descr="kde-docs-cleaner">
        <rm cd="/usr/share/doc/" dst="HTML/*" />
    </package>
    <package spec="kphotoalbum">
        <rm cd="/usr/share/doc/" dst="HTML/*" />
    </package>
    <package spec="kile">
        <rm cd="/usr/share/doc/" dst="HTML/*" />
    </package>
    <!-- Don't want to install any Kate/Pate plugins!
         I've already have 'em from kate.git in my home... 
         As well as some file templates.
      -->
    <package spec="kde-base/kate">
        <rm cd="/usr/share/apps/kate/" dst="pate" />
        <rm cd="/usr/share/apps/kate/plugins/katefiletemplates/templates" dst="cpp*" />
        <rm cd="/usr/share/apps/kate/plugins/katefiletemplates/templates" dst="FindXXX.cmake.katetemplate" />
    </package>


    <!-- Remove shit^Wunused search providers -->
    <package spec="www-client/firefox">
        <rm cd="/usr/lib64/firefox/browser/searchplugins/">
            <item dst="amazondotcom.xml" />
            <item dst="bing.xml" />
            <item dst="eBay.xml" />
            <item dst="twitter.xml" />
            <item dst="yahoo.xml" />
        </rm>
    </package>

    <!-- Remove non English manual pages -->
    <package spec="*/*" descr="man-pages-cleaner">
        <rm cd="/usr/share/man/" dst="man{0p,1,1p,2,3,3p,4,5,6,7,8}" reverse="true" />
    </package>

    <!-- Remove any translations from all packages! I use only English! -->
    <package spec="*/*" descr="locale-cleaner">
        <rm cd="/usr/share/locale/" dst="*/LC_MESSAGES/*.mo" />
    </package>

    <!-- Remove unwanted GTK API docs from various packages.
         They are installed despite of USE=-doc !!!
      -->
    <package spec="*/*" descr="gtk-docs-remover">
        <rm cd="/usr/share" dst="gtk-doc" />
    </package>
    <!-- Remove GTK documentation from particular packages -->
    <package spec="sys-fs/udisks" descr="pp-gtk-docs-remover">
        <rm cd="/usr/share/doc/${PF}" dst="html" />
    </package>
    <package spec="media-libs/raptor">
        <rm cd="/usr/share/doc/${PF}" dst="html" />
    </package>
    <package spec="x11-libs/libxklavier">
        <rm cd="/usr/share/doc/${PF}" dst="html" />
    </package>

    <!-- Remove unused (most of the time) shit^Wdocs from /usr/share/doc -->
    <!-- NOTE Some packages put their docs into ${PN} instead :( 
              Looks like I have to copy this rule, or upgrade XML scheme somehow,
              so rules reusing will be possible ;)
      -->
    <package spec="*/*" descr="docs-cleaner">
        <rm cd="/usr/share/doc/${PF}">
            <item dst="ACKS" />
            <item dst="ACKNOWLEDGEMENT*" />
            <item dst="ANNOUNCE*" />
            <item dst="AUTHORS*" />
            <item dst="*.AUTHORS*" />
            <item dst="BUGS*" />
            <item dst="CHANGELOG*" />
            <item dst="CHANGES*" />
            <item dst="Changes*" />
            <item dst="changes*" />
            <item dst="CodingStyle" />
            <item dst="COMMITTERS*" />
            <item dst="CONFORMANCE*" />
            <item dst="CONTENTS*" />
            <item dst="CONTRIBUTORS*" />
            <item dst="COPYING*" />
            <item dst="COPYRIGHT*" />
            <item dst="Copyright*" />
            <item dst="copyright*" />
            <item dst="*ChangeLog*" />
            <item dst="Changelog*" />
            <item dst="changelog*" />
            <item dst="CREDITS*" />
            <item dst="Credits" />
            <item dst="DEBUG*" />
            <item dst="DETAILS*" />
            <item dst="DISTFILES*" />
            <item dst="NOTICE*" />
            <item dst="FAQ*" />
            <item dst="*HACKING*" />
            <item dst="HISTORY*" />
            <item dst="INSTALL*" />
            <item dst="KEYS*" />
            <item dst="LICENSE*" />
            <item dst="MAINTAINERS*" />
            <item dst="NEWS*" />
            <item dst="NOTES*" />
            <item dst="PORTING*" />
            <item dst="PROJECTS*" />
            <item dst="*README*" />
            <item dst="*readme*" />
            <item dst="RELEASE*" />
            <item dst="RELNOTES*" />
            <item dst="THANKS*" />
            <item dst="TRANSLATE*" />
            <item dst="*TODO*" />
            <item dst="VERSION*" />
            <item dst="WHATSNEW*" />
            <item dst="WhatsNew*" />
        </rm>
    </package>

</commands>
